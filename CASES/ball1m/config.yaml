# ==============================================================================
# LBM SOLVER CONFIGURATION (D3Q27 WMLES - High Re Production Mode)
# ==============================================================================

basic:
  stl_file: "ball1m.stl"
  stl_scale: 1.0
  surface_resolution: 55
  num_levels: 7
  reference_area_of_full_model: 1.0
  reference_chord: 1.0
  reference_length_for_meshing: 1.0
  reference_dimension: "x"
  
  fluid:
    density: 1.225
    kinematic_viscosity: 1.5e-5
  
  flow:
    velocity: 148

  simulation:
    steps: 12000
    ramp_steps: 2000
    output_freq: 3000
    output_dir: "RESULTS"
    output_fields:
      density: false
      velocity: true
      velocity_magnitude: true
      vorticity: false
      obstacle: true
      level: true
      bouzidi: false

advanced:
  numerics:
    u_lattice: 0.03
    c_wale: 0.50
    tau_min: 0.500001
    tau_safety_factor: 1.0
    inlet_turbulence_intensity: 0.0
  
  high_re:
    auto_levels: false
    max_levels: 12
    min_coarse_blocks: 4
    wall_model:
      enabled: true
      type: "equilibrium"
      y_plus_target: 100.0
    adaptive_refinement:
      enabled: false
      criterion: "vorticity"
      threshold: 0.1
  
  domain:
    upstream: 3.75
    downstream: 4.5
    lateral: 3.75
    height: 3.75
    sponge_thickness: 0.10
  
  refinement:
    block_size: 8
    margin: 2
    strategy: "geometry_first"
    symmetric_analysis: false
    wake_enabled: true
    wake_length: 0.25
    wake_width_factor: 0.1
    wake_height_factor: 0.1
  
  boundary:
    method: "bouzidi"
    bouzidi_levels: 1
    use_float16_qmap: true
    q_min_threshold: 0.001
  
  forces:
    enabled: true
    output_freq: 0
    moment_center: [0.25, 0.0, 0.0]
  
  diagnostics:
    freq: 200
    stability_check: true
    print_tau_warning: true
  
  gpu:
    async_depth: 8
    use_streams: true
    prefetch_neighbors: true